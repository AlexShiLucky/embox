package embox.arch.arm.armlib

abstract module cpu { }

module arch {
	depends embox.arch.arm.armlib.locore
	depends embox.arch.arm.armlib.interrupt
	depends embox.arch.arm.armlib.context
	depends embox.arch.arm.armlib.mem_barriers
	depends embox.arch.arm.libarch
}


module locore extends embox.arch.locore {

	option number irq_stack_size = 0x100

	source "entry.S",
		"exception_table.S",
		"exception_handler.c"

	depends head
	depends setup_exception_table
}

module interrupt extends embox.arch.interrupt {
	source "ipl_impl.h"
	depends locore
}


module mem_barriers extends embox.arch.mem_barriers {
	source "mem_barriers.h"
}

